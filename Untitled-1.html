<body>
    <canvas id="canvas" width="800" height="700"></canvas>
  
    <script src="script.js"></script>
     <script>
      let canvas = document.getElementById("canvas");
  let context = canvas.getContext("2d");
  
  let backgroundImage = new Image();
  backgroundImage.src = "chemin/vers/votre/image.jpg";
  
  backgroundImage.onload = function() {
    context.drawImage(backgroundImage, 0, 0);
  }
  
  
  // Charge l'image du personnage
  var heroImg = new Image();
  heroImg.src = "https://github.com/berru-g/life-game/blob/main/src-img/hero/walk-perso-fixeD.png?raw=true";
  
  // Position initiale du personnage
  var heroX = 50;
  var heroY = 50;
  
  // Vitesse horizontale du personnage
  var heroSpeedX = 0;
  
  // Vitesse verticale du personnage
  var heroSpeedY = 0;
  
  // Indique si le personnage est en train de sauter
  var isJumping = false;
  
  // Hauteur maximale que le personnage peut atteindre lors d'un saut
  var jumpHeight = 100;
  
  // Vitesse à laquelle le personnage retombe après avoir atteint la hauteur maximale d'un saut
  var fallSpeed = 5;
  
  // Fonction pour dessiner le personnage sur le canevas
  function drawHero() {
    context.drawImage(heroImg, heroX, heroY);
  }
  
  // Fonction pour mettre à jour la position du personnage
  function updateHeroPosition() {
    heroX += heroSpeedX;
    heroY += heroSpeedY;
    
    // Vérifier si le personnage est en train de sauter
    if (isJumping) {
      heroY -= jumpHeight;
      jumpHeight -= fallSpeed;
      
      // Arrêter le saut si la hauteur maximale est atteinte
      if (jumpHeight < 0) {
        isJumping = false;
        jumpHeight = 100;
      }
    }
  }
  
  // Fonction pour détecter la collision entre le personnage et un objet
  function detectCollision(objectX, objectY, objectWidth, objectHeight) {
    if (heroX < objectX + objectWidth &&
        heroX + heroImg.width > objectX &&
        heroY < objectY + objectHeight &&
        heroY + heroImg.height > objectY) {
      return true;
    }
    return false;
  }
  
  // Fonction pour récupérer un bonus
  function getBonus(bonus) {
    // Ajouter le score du bonus au score total
    score += bonus.score;
    
    // Supprimer le bonus du tableau des bonus
    var index = bonuses.indexOf(bonus);
    if (index > -1) {
      bonuses.splice(index, 1);
    }
  }
  
  // Fonction pour gérer le mouvement du personnage
  function handleKeyDown(event) {
    if (event.keyCode == 39) { // Flèche droite
      heroSpeedX = 5;
    }
    else if (event.keyCode == 37) { // Flèche gauche
      heroSpeedX = -5;
    }
    else if (event.keyCode == 32) { // Barre d'espace
      if (!isJumping) {
        isJumping = true;
        jumpHeight = 100;
      }
    }
  }
  
  // Fonction pour arrêter le mouvement du personnage
  function handleKeyUp(event) {
    if (event.keyCode == 39 || event.keyCode == 37) {
      heroSpeedX = 0;
    }
  }
  
  
  // Dessine le personnage sur le canvas
  function drawHero() {
    ctx.drawImage(heroImg, heroX, heroY);
  }
  
  // Met à jour la position du personnage en fonction de sa vitesse
  function updateHeroPosition() {
    heroX += heroSpeedX;
    heroY += heroSpeedY;
    
    // Empêche le personnage de sortir de l'écran par la gauche ou la droite
    if (heroX < 0) {
      heroX = 0;
    } else if (heroX > canvas.width - heroImg.width) {
      heroX = canvas.width - heroImg.width;
    }
    
    // Empêche le personnage de sortir de l'écran par le haut ou le bas
    if (heroY < 0) {
      heroY = 0;
    } else if (heroY > canvas.height - heroImg.height) {
      heroY = canvas.height - heroImg.height;
    }
  }
  
  // Met à jour la position du personnage en fonction de l'état du clavier
  function handleKeyDown(event) {
    if (event.key === "ArrowLeft") {
      heroSpeedX = -5;
    } else if (event.key === "ArrowRight") {
      heroSpeedX = 5;
    } else if (event.key === "ArrowUp" && !isJumping) {
      isJumping = true;
      heroSpeedY = -10;
    } else if (event.key === "space") {
      // Ajoute ici le code pour faire tirer le personnage
    }
  }
  
  function handleKeyUp(event) {
    if (event.key === "ArrowLeft" || event.key === "ArrowRight") {
      heroSpeedX = 0;
    }
  }
  
  // Met à jour la position du personnage en fonction de l'état du saut
  function updateJump() {
    if (isJumping) {
      heroY += heroSpeedY;
      heroSpeedY += 1;
      
      if (heroY > canvas.height - heroImg.height) {
        isJumping = false;
        heroY = canvas.height - heroImg.height;
        heroSpeedY = 0;
      }
    }
  }
  
  // Boucle de jeu principale
  function gameLoop() {
    // Efface le canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
  
  function draw() {
    // Efface le canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  
    // Dessine le personnage
    ctx.drawImage(heroImg, heroX, heroY);
  
    // Met à jour la position du personnage en fonction de sa vitesse horizontale et verticale
    heroX += heroSpeedX;
    heroY += heroSpeedY;
  
    // Applique la gravité si le personnage est en train de sauter
    if (isJumping) {
      heroSpeedY += gravity;
  
      // Si le personnage a atteint la hauteur maximale d'un saut, il retombe
      if (heroY <= jumpHeight) {
        isJumping = false;
      }
    }
  
    // Fait retomber le personnage s'il ne touche pas le sol et n'est pas en train de sauter
    if (heroY < groundY && !isJumping) {
      heroY += fallSpeed;
    }
  
    // Appelle la fonction draw() de nouveau
    requestAnimationFrame(draw);
  }
  
  // Appelle la fonction draw() pour la première fois
  draw();
  
    </script>
  </body>
  